
# This file controls the order of all render stages.

# Usually you do not have to modify this, except if you are adding new plugins.
# If you move stages, you should know what you do.

# Commenting out a stage won't disable it, but instead produce an error when
# it is created.

global_stage_order:

  # Shadows, Environment and Voxelization
  - PSSMShadowStage
  - PSSMDistShadowStage
  - PSSMSceneShadowStage
  - ScatteringEnvmapStage
  - SkyAOCaptureStage
  - EnvironmentCaptureStage
  - VoxelizationStage

  # Main scene
  - GBufferStage
  - ShadowStage
  - ConvertDepthStage
  - ComputeLowPrecisionNormalsStage
  - CombineVelocityStage

  # Light(-culling)
  - FlagUsedCellsStage
  - CollectUsedCellsStage
  - CullLightsStage
  - CullProbesStage

  # Plugins
  - CloudVoxelStage
  - SkyAOStage
  - AOStage
  - ApplyLightsStage
  - ScatteringStage
  - PSSMStage
  - ApplyEnvprobesStage
  - VXGIStage
  - SSRStage

  - AmbientStage
  - ForwardStage

  - ApplyCloudsStage
  - GodrayStage
  - VolumetricsStage

  - AutoExposureStage
  - ManualExposureStage

  # Post AA & Effects
  - BloomStage
  - TonemappingStage
  - ReferenceStage
  - SRGBCorrectionStage
  
  # Past this point, we work on 8 bit targets
  - SMAAStage
  - FXAAStage

  # Past this stage, we can not rely on the depth buffer anymore
  - TemporalAAStage

  - DoFStage
  - MotionBlurStage
  - SkinShadingStage
  - SharpenStage
  - ColorCorrectionStage

  # Finishing stages, do not insert anything below
  - UpscaleStage
  - FinalStage
  - UpdatePreviousPipesStage
